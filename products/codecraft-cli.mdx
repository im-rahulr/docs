---
icon: "terminal"
title: "Codec CLI â€“ Comprehensive Documentation"
---

## Overview

The **Codec CLI** is a powerful, AI-driven command-line tool engineered to optimize and accelerate the modern developer's workflow. It stands as an evolution of the Google Gemini CLI, specifically refined and optimized to leverage the advanced capabilities of Qwen3-Coder models. Codec's core mission is to minimize context-switching and automate repetitive tasks, enabling developers to stay focused and productive directly within their terminal environment.

By integrating intelligent assistance, Codec transforms the command line from a simple execution interface into an interactive partner. It is designed for developers who need to:

- **Analyze and Edit Large Codebases:** Process and query extensive code repositories that exceed the context windows of traditional models, gaining deep insights into architecture and dependencies.
- **Automate Repetitive Tasks:** Streamline common development chores, from git operations to file refactoring, reducing manual effort and potential for error.
- **Integrate AI Assistance:** Generate boilerplate code, write unit tests, debug issues, and check for security vulnerabilities without leaving the terminal.
- **Handle Complex Operations:** Efficiently manage intricate tasks like git rebases, pull request summaries, and bulk file modifications with natural language commands.

Codec is more than a simple wrapper; it is a meticulously crafted tool that provides intelligent code understanding, an enhanced parsing engine, and flexible multi-provider support, all designed to enhance development productivity.

## 1. Features in Detail

### Core Features

#### Intelligent Code Understanding & Editing

Codec's primary strength lies in its ability to understand and reason about large codebases. Unlike simpler AI tools, it is not limited to a single file or a small snippet. Its enhanced parser, optimized for the Qwen3-Coder model, allows it to:

- **Traverse Repository Structure:** Comprehend the relationships between files and modules across an entire project.
- **Refactor with Context:** Refactor and optimize code not just for a single function but with a full understanding of its dependencies and impact on the broader system.
- **Natural Language Queries:** Respond to complex queries like "Find all the places where `UserAuthenticationService` is used and explain how the data flows" with detailed, accurate analysis.

#### Automated Workflow Enhancement

Codec is built to automate the tedious, repetitive tasks that often interrupt a developer's flow. Key automation capabilities include:

- **Git Operations:** Generate a comprehensive summary of recent commits, create a clear and concise pull request description, or even suggest a fix for a merge conflict.
- **Changelog Generation:** Automatically create a formatted changelog by analyzing recent git history, saving hours of manual review.
- **Bulk File Modifications:** Rename files, update imports, or modify configurations across a large number of files with a single, high-level command.

### Technical & Architectural Features

#### Enhanced Parser

The Codec parser is a key innovation, tailored specifically to maximize the performance of Qwen3-Coder models. It intelligently interprets file paths, code blocks, and conversational context to build a coherent representation of the project, allowing the AI to provide more accurate and relevant responses.

#### Multi-Provider Support & Free Access

Codec is designed for flexibility and accessibility. It allows developers to choose their preferred model provider.

- **Qwen OAuth:** This is the recommended provider for most users, offering a generous **free tier of 2,000 requests per day** with no token count limits. This is ideal for high-volume daily use and is the easiest to set up.
- **OpenAI-Compatible APIs:** Codec can be configured to work with any service that supports the OpenAI API standard, giving users the freedom to use a wide range of models and providers.
- **Regional Free Tiers:** For users in specific regions, Codec supports providers like ModelScope (Mainland China), which offer additional free quotas, ensuring accessibility for a global audience.

## 2. Installation

### Prerequisites

To ensure the best performance and stability, Codec CLI requires **Node.js version 20.0.0 or higher**. This version is necessary for the tool's asynchronous operations and modern JavaScript features.

- **How to check your version:** Open your terminal and run `node --version`.
- **How to install/update:** Download the latest installer from the official [Node.js website](https://nodejs.org/).

### Installation Methods

#### Install from npm (Recommended)

This is the fastest and most straightforward way to get started.

1. Open your terminal.
2. Run the installation command:

   ```
   npm install -g codec@latest
   
   
   ```

   This command installs Codec globally, making it accessible from any directory.
3. Verify the installation by checking the version:

   ```
   codec --version
   
   
   ```

#### Update to the Latest Version

To ensure you have the latest features and bug fixes, simply run:

```
npm update -g codec

```

#### Uninstall Codec

If you need to remove the tool, use the following command:

```
npm uninstall -g codec

```

#### Install from Source

For developers who wish to contribute or need to customize the tool, you can install from source.

1. Clone the repository:

   ```
   git clone https://github.com/im-rahulr/qwen-code.git
   
   
   ```
2. Navigate into the project directory:

   ```
   cd qwen-code
   
   
   ```
3. Install the project dependencies:

   ```
   npm install
   
   
   ```
4. Build the project:

   ```
   npm run build
   
   
   ```
5. Install the local build globally:

   ```
   npm install -g .
   
   
   ```

## 3. Quick Start Guide

Once installed, starting Codec is as simple as typing `codec` in your terminal.

```
codec

```

The CLI will launch and greet you with a prompt. You can then begin interacting with the AI.

Here are a few initial commands to get you started:

- **Explain a codebase:**

  ```
  > Explain the codebase structure
  
  
  ```
- **Refactor a function:**

  ```
  > Help me refactor the `processData` function to use a more efficient algorithm
  
  
  ```
- **Generate unit tests:**

  ```
  > Generate unit tests for the `user-auth` module
  
  
  ```

**Example Walkthrough:**

Let's say you've just cloned a new repository and need to understand its architecture.

1. Navigate into the repository's root directory.
2. Run `codec`.
3. Enter the following prompt:

   ```
   > Describe the main pieces of this system's architecture and how they interact
   
   
   ```

Codec will process the entire repository (or a defined subset) and provide a high-level summary of the core modules, their responsibilities, and the data flow between them.

## 4. Authorization Setup

Codec supports a variety of authentication methods to suit your workflow.

### 1. Qwen OAuth (Recommended)

This method is the easiest to set up and provides the most generous free tier. It handles token management automatically.

1. Simply run `codec` for the first time.
2. The CLI will detect that you are not authenticated and will open a new browser window.
3. Follow the on-screen instructions to log in with your Qwen account.
4. Once the process is complete, the browser will redirect, and the CLI session will be authorized.

**Benefits of Qwen OAuth:**

- Zero manual token management.
- High daily request limit (2,000 requests/day).
- High request rate limit (60 requests/minute).
- Tokens are automatically refreshed.

### 2. OpenAI-Compatible API Keys

For users who prefer to use other providers, Codec can be configured with an OpenAI-compatible API key.

#### Method 1: Environment Variables

This method is ideal for temporary or per-session configuration.

```
export OPENAI_API_KEY="your_api_key_here"
export OPENAI_BASE_URL="your_api_endpoint"
export OPENAI_MODEL="your_model_choice"

```

**Note:** The `OPENAI_BASE_URL` and `OPENAI_MODEL` variables are optional but highly recommended to specify the exact provider and model you wish to use.

#### Method 2: `.env` File

This is the recommended method for persistent, project-specific configuration.

1. Create a file named `.env` in the root of your project directory.
2. Add the following key-value pairs:

   ```
   OPENAI_API_KEY=your_api_key_here
   OPENAI_BASE_URL=your_api_endpoint
   OPENAI_MODEL=your_model_choice
   
   
   ```

Codec will automatically load these variables when it is run from that directory.

### Regional Provider Notes

- **Mainland China:** Access Alibaba Cloud's Bailian or ModelScope. ModelScope offers a free tier of 2,000 calls per day.
- **International:** Access Alibaba Cloud ModelStudio or OpenRouter, which also offers a free tier.

## 5. Usage Examples

### Exploring Codebases

- **Summarize a project:**

  ```
  > Summarize the main modules in this repository and describe their dependencies
  
  
  ```
- **Find specific code patterns:**

  ```
  > Find all API endpoints and their associated authentication methods, and list them in a table
  
  
  ```

### Refactoring & Code Generation

- **Improve code quality:**

  ```
  > Refactor the `dataParser.js` function to improve readability and add clear comments
  
  
  ```
- **Create new functionality:**

  ```
  > Create a new REST API endpoint in `server.js` for user authentication, including input validation and a JWT token response
  
  
  ```
- **Generate unit tests:**

  ```
  > Generate unit tests for the `authentication` module using Jest
  
  
  ```

### Automating Workflows

- **Analyze git history:**

  ```
  > Analyze git commits from the last 7 days and summarize the key changes and features added
  
  
  ```
- **Generate changelogs:**

  ```
  > Create a changelog from recent commits, categorizing them into 'Features', 'Bug Fixes', and 'Chore'
  
  
  ```
- **Bulk file renaming:**

  ```
  > Rename all test files in the `src/tests` directory to follow the `*.test.ts` pattern
  
  
  ```

### Debugging & Security

- **Identify performance issues:**

  ```
  > Identify potential performance bottlenecks in the `UserDashboard` React component
  
  
  ```
- **Check for vulnerabilities:**

  ```
  > Check the `user_login.php` file for potential SQL injection or cross-site scripting vulnerabilities
  
  
  ```

## 6. Session Management

Codec provides a simple way to manage your conversation and token usage. This is crucial for controlling costs and ensuring you stay within context limits for long-running tasks.

### Configuration File

You can set a hard limit on the number of tokens used per session.

1. Create a folder named `.qwen` in your home directory (`~/.qwen/`).
2. Inside this folder, create a file named `settings.json`.
3. Add the following JSON content, adjusting the value as needed:

   ```
   {
     "sessionTokenLimit": 32000
   }
   
   
   ```

This setting will cap the total token usage for any single `codec` session.

### Session Commands

- `/compress`: This command intelligently summarizes your conversation history, reducing the number of tokens used while attempting to preserve critical context. Use this before asking a new question in a long session.
- `/clear`: Resets the current conversation session and clears all history, effectively starting a new conversation.
- `/status`: Displays the current token usage for the active session, helping you monitor your limits.

## 7. Commands & Shortcuts

| Command            | Description                                                       |
| :----------------- | :---------------------------------------------------------------- |
| `/help`            | Displays a list of all available commands and their descriptions. |
| `/clear`           | Resets the conversation history for the current session.          |
| `/compress`        | Compresses the session history to reduce token usage.             |
| `/status`          | Shows current token usage and session statistics.                 |
| `/exit` or `/quit` | Exits the Codec CLI.                                              |

| Shortcut        | Description                                                                       |
| :-------------- | :-------------------------------------------------------------------------------- |
| `Ctrl+C`        | Cancels the current AI operation (useful if a response is too long or incorrect). |
| `Ctrl+D`        | Exits the Codec CLI.                                                              |
| `Up/Down Arrow` | Navigates through your command history.                                           |

## 8. Best Practices for Efficient Use

- **Break Down Large Queries:** Instead of asking a single, overly broad question, break it into smaller, more focused tasks. This saves tokens and often leads to more accurate and specific results.
- **Use **`/compress`**Proactively:**  When working on a complex problem over an extended period, periodically use the `/compress` command to manage the conversation history and prevent token overflow.
- **Prefer Qwen OAuth:** If you have access, using Qwen OAuth is the easiest and most cost-effective way to use Codec due to its high free-tier limits and automatic management.
- **Combine Tasks:** For efficiency, you can combine related tasks in a single prompt. For example: "Refactor this function to improve readability and generate JSDoc comments for it." This maintains a continuous context and reduces the number of requests.
- **Leverage Automation:** Use Codec's automation features to their full potential. Instead of manually inspecting files or `git` history, let the tool do the heavy lifting.

## 9. Troubleshooting

- **Installation Errors:**
  - **Solution:** Ensure you have Node.js version 20.0.0 or higher.
- **Authentication Issues:**
  - **Solution:** If using an API key, double-check that it is entered correctly in your `.env` file or environment variables. If using Qwen OAuth, re-run `codec` and follow the login prompt again.
- **Token Limit Reached:**
  - **Solution:** Use the `/compress` command to reduce your session history, or increase the `sessionTokenLimit` in your `settings.json` file.
- **Unexpected Behavior:**
  - **Solution:** Use `/clear` to reset the session and try your command again. If the issue persists, check the project's GitHub repository for known issues.

## 10. Contributing

Codec is an open-source project, and contributions are highly welcome. To contribute:

1. Fork the [GitHub repository](https://github.com/im-rahulr/qwen-code.git).
2. Make your changes on a new branch.
3. Submit a pull request following the project's contribution guidelines, which can be found in the `CONTRIBUTING.md` file within the repository.

## 11. License

This project is licensed under the terms specified in the `LICENSE` file.